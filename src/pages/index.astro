---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import NewsCard from "../components/NewsCard.astro";

const classePosts = await getCollection("Klasse");
const foreignAffairsPosts = await getCollection("Utenriks");

const allPosts = [...classePosts, ...foreignAffairsPosts];

allPosts.sort(
  (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime(),
);
---

<BaseLayout currentTab="Alt">
  {
    allPosts.map((post) => (
    <a class="inline-block">
        <NewsCard
          title={post.data.title}
          description={post.data.description}
          image={post.data.image}
        />
      </a>
    ))
  }
</BaseLayout>
